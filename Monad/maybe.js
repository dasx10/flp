import right from"./right.js";var r=right(null),n=((_,e)=>e?maybe(e()):nothing),o=((x)=>(x.then=x)),w=new WeakSet,_=(x)=>(w.add(x.then=x),x),i=(x)=>x&&x===Object(x)&&w.has(x);export var nothing=Object.setPrototypeOf(n,{then:(x)=>(x&&x.constructor===Function&&x.name===""&&x.length===1&&x(r),n),valueOf:()=>(void 0),toString:()=>'',[Symbol.toPrimitive]:(x)=>x==='number'?NaN:"",toJSON:()=>(null)});w.add(nothing);export var just=(x)=>((x=right(x)),o((y)=>maybe(right(y)(x))));var maybe=Object.setPrototypeOf((x)=>x==null?nothing:i(x)?x:_((y,e)=>y==null?nothing:(maybe(x.then?x.then((x)=>x==null?nothing:y(x),e):y(x)))),{nothing,just});export default maybe;
